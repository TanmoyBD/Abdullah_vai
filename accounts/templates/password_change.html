{% extends 'navbar.html' %}

{% block content %}
<body class="flex items-center justify-center h-screen bg-gray-100">
  <div class="flex justify-center mt-32">
    <div class="bg-white p-8 rounded shadow-lg max-w-md w-full">
        <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Change Password</h2>
  
        <form action="" method="post" class="mb-4">
            {% csrf_token %}
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="new_password">New Password</label>
                <div class="relative">
                    <input type="password" name="new_password" id="new_password" class="form-input w-full px-3 py-2 border rounded" required>
                    <span class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer">
                        <svg id="eye-icon" class="h-6 w-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" onclick="togglePasswordVisibility('new_password')">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464A9.956 9.956 0 0 0 16 12a9.956 9.956 0 0 0-.464 3.536m-.29-4.95a16.053 16.053 0 0 1 0 9.828m.29-4.95a16.053 16.053 0 0 0 0-9.828m2.828 2.828a16.053 16.053 0 0 0 0 9.828M5.172 5.172a16.053 16.053 0 0 1 0 9.828m.29-4.95a9.956 9.956 0 0 0 3.536 3.536m4.95-.29a16.053 16.053 0 0 0-9.828 0m4.95.29a9.956 9.956 0 0 0 3.536-3.536m0 0L12 16m-8.95-.29a16.053 16.053 0 0 0 9.828 0m-4.95-.29a9.956 9.956 0 0 0-3.536-3.536M12 8.536a9.956 9.956 0 0 0-3.536 3.536m0 0a9.956 9.956 0 0 0 3.536 3.536m0 0L12 8.536z"></path>
                        </svg>
                    </span>
                </div>
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="confirm_password">Confirm Password</label>
                <div class="relative">
                    <input type="password" name="confirm_password" id="confirm_password" class="form-input w-full px-3 py-2 border rounded" required>
                    <span class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer">
                        <svg id="eye-icon-confirm" class="h-6 w-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" onclick="togglePasswordVisibility('confirm_password')">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464A9.956 9.956 0 0 0 16 12a9.956 9.956 0 0 0-.464 3.536m-.29-4.95a16.053 16.053 0 0 1 0 9.828m.29-4.95a16.053 16.053 0 0 0 0-9.828m2.828 2.828a16.053 16.053 0 0 0 0 9.828M5.172 5.172a16.053 16.053 0 0 1 0 9.828m.29-4.95a9.956 9.956 0 0 0 3.536 3.536m4.95-.29a16.053 16.053 0 0 0-9.828 0m4.95.29a9.956 9.956 0 0 0 3.536-3.536m0 0L12 16m-8.95-.29a16.053 16.053 0 0 0 9.828 0m-4.95-.29a9.956 9.956 0 0 0-3.536-3.536M12 8.536a9.956 9.956 0 0 0-3.536 3.536m0 0a9.956 9.956 0 0 0 3.536 3.536m0 0L12 8.536z"></path>
                        </svg>
                    </span>
                </div>
            </div>
            <div class="text-center">
                <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700">Submit</button>
            </div>
        </form>
        
        {% if form.errors %}
            <div class="mt-4 bg-red-100 border border-red-400 text-red-700 py-2 px-4 rounded">
                {{ form.errors.confirm_password.0 }}
            </div>
        {% endif %}

    </div>
  </div>
</body>

<script>
    function togglePasswordVisibility(fieldId) {
        var passwordField = document.getElementById(fieldId);
        var eyeIcon = document.getElementById(fieldId == "new_password" ? "eye-icon" : "eye-icon-confirm");

        if (passwordField.type === "password") {
            passwordField.type = "text";
            eyeIcon.innerHTML = '<path d="M17.293 6.293A8.962 8.962 0 0 0 12 4c-2.41 0-4.62.938-6.293 2.293a1 1 0 101.414 1.414C9.075 6.34 10.502 6 12 6c1.498 0 2.925.34 4.879 1.707a1 1 0 101.414-1.414zM12 8a1 1 0 100 2 1 1 0 000-2z" fill-rule="evenodd" clip-rule="evenodd"></path><path d="M12 20c-2.39 0-4.62-.924-6.293-2.293a1 1 0 111.414-1.414C9.075 17.66 10.502 18 12 18s2.925-.34 4.879-1.707a1 1 0 111.414 1.414A8.962 8.962 0 0112 20z" fill-rule="evenodd" clip-rule="evenodd"></path><path d="M2.293 6.293a1 1 0 000 1.414C2.34 7.925 2 9.353 2 12s.34 4.075 1.707 6.879a1 1 0 101.414-1.414C4.34 14.925 4 13.498 4 12s.34-2.925 1.707-4.879a1 1 0 00-1.414-1.414zM6.293 2.293a1 1 0 00-1.414 1.414C7.66 4.925 7 6.34 7 8s.66 3.075 1.879 5.879a1 1 0 001.414-1.414C9.075 10.34 9 9.175 9 8s.075-2.34.293-3.293a1 1 0 00-1.414-1.414zM18.293 2.293a1 1 0 111.414 1.414C19.66 4.925 20 6.34 20 8s-.34 3.075-1.879 5.879a1 1 0 11-1.414-1.414C18.925 10.34 19 9.175 19 8s-.075-2.34-.293-3.293a1 1 0 111.414-1.414zM21.707 6.293a1 1 0 00-1.414-1.414C19.66 7.66 20 9.175 20 10s-.34 2.34-1.879 4.879a1 1 0 001.414 1.414C20.925 13.66 21 14.825 21 16s-.075 2.34-.293 3.293a1 1 0 001.414 1.414C21.66 19.66 22 18.24 22 16s-.34-3.66-1.293-5.707z" fill-rule="evenodd" clip-rule="evenodd"></path>';
        } else {
            passwordField.type = "password";
            eyeIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464A9.956 9.956 0 0 0 16 12a9.956 9.956 0 0 0-.464 3.536m-.29-4.95a16.053 16.053 0 0 1 0 9.828m.29-4.95a16.053 16.053 0 0 0 0-9.828m2.828 2.828a16.053 16.053 0 0 0 0 9.828M5.172 5.172a16.053 16.053 0 0 1 0 9.828m.29-4.95a9.956 9.956 0 0 0 3.536 3.536m4.95-.29a16.053 16.053 0 0 0-9.828 0m4.95.29a9.956 9.956 0 0 0 3.536-3.536m0 0L12 16m-8.95-.29a16.053 16.053 0 0 0 9.828 0m-4.95-.29a9.956 9.956 0 0 0-3.536-3.536M12 8.536a9.956 9.956 0 0 0-3.536 3.536m0 0a9.956 9.956 0 0 0 3.536 3.536m0 0L12 8.536z"></path>';
        }
    }
</script>
{% endblock %}
